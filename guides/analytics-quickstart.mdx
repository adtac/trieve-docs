---
title: 'Analytics with Trieve'
description: 'Learn how to get started with Trieve Analytics'
icon: 'chart-mixed'
---

## Overview

Trieve Analytics is a powerful tool that allows you to analyze your queries and gain insights from them. In this guide, we will walk you through the process of setting up Trieve Analytics and using it to analyze your queries.

## Setting Up Trieve Analytics

To get started with Trieve Analytics, you need to first create a dataset.

Then start searching and chatting with your data!

Trieve will automatically collect and track all of the searches and RAG chats that are made in your dataset, so you don't have to worry about manually tracking them.

## Search Analytics

We provide extensive analytics on your searches all of which can be found in the [search analytics route](api-reference/analytics/get-search-analytics).
These analytics include:
1. **Latency over time**: This graph shows the average latency of searches over time.
2. **Searches over time**: This graph shows the number of searches made over time.
3. **Head Queries**: This table shows the head queries made in your dataset.
4. **Low Confidence Queries**: This table shows the queries that have low confidence scores, which can be useful for improving your search results.
5. **No Results Queries**: This table shows the queries that returned no results, which can be useful for improving your search results.
6. **Popular Filters**: This table shows the most popular filters used in searches.

You can see all of this data on the dashboard in the analytics section, as well as be able to export them to a CSV so that you can analyze them in your own tools.
![](https://trieve.b-cdn.net/Screenshot%202024-10-01%20at%201.46.51%E2%80%AFPM.png)

## RAG Chat Analytics

We provide extensive analytics on your RAG chats all of which can be found in the [RAG analytics route](api-reference/analytics/get-rag-analytics).
These analytics include:
1. **Usage over time**: This graph shows the number of RAG chats made over time.
2. **All RAG Chats**: This table shows all of the RAG chats made in your dataset.

You can see all of this data on the dashboard in the analytics section, as well as be able to export them to a CSV so that you can analyze them in your own tools.
![](https://trieve.b-cdn.net/Screenshot%202024-10-01%20at%202.06.27%E2%80%AFPM.png)


### Tracking Custom Events
On every search, we will return a `id` for the search that you can use to track the search in Trieve Analytics inside of the response payload.
For RAG chats, you will recieve the id in the form of a `TR-QueryID` header on the message response.

You can use this id to reference the search in Trieve Analytics and link the search with other events that occured on your application.

You can send CTR data to the Trieve API using the [send CTR data route](/api-reference/analytics/send-ctr-data).
<CodeGroup>
```json curl
curl -X POST https://api.trieve.ai/api/analytics/ctr \
  -H "TR-Dataset: YOUR_DATASET_ID" \
  -H "Authorization: <YOUR_API_KEY>" \
    -d '{
        "ctr_type": "search | rag",
        "clicked_chunk_id": "<item_id>",
        "position": 1,
        "request_id": "<request_id>"
    }'
```

```ts TS SDK
import { TrieveSDK } from "trieve-ts-sdk";

export const trieve = new TrieveSDK({
  apiKey: "tr-********************************",
  datasetId: "<your-api-key>",
});

const data = await trieve.sendCTRData({
    ctr_type: "search | rag",
    clicked_chunk_id: "<item_id>",
    position: 1,
    request_id: "<request_id>",
});
```
</CodeGroup>


You can send custom events to the Trieve API using the [send event route](/api-reference/analytics/send-event-data).
<CodeGroup>
```json curl
curl -X POST https://api.trieve.ai/api/analytics/event \
  -H "TR-Dataset: YOUR_DATASET_ID" \
  -H "Authorization: YOUR_API_KEY" \
    -d '{
        "event_type": "add_to_cart",
        "event_name": "Add to Cart",
        "items": [
            "Cheesesticks",
            "Pizza",
        ],
        "request_id": "<request_id>"
    }'
```

```ts TS SDK
import { TrieveSDK } from "trieve-ts-sdk";

export const trieve = new TrieveSDK({
  apiKey: "tr-********************************",
  datasetId: "<your-api-key>",
});

const data = await trieve.sendEventData({
    event_type: "add_to_cart",
    event_name: "Add to Cart",
    items: ["Cheesesticks", "Pizza"],
    request_id: "<request_id>",
});
```
</CodeGroup>

You can also send user feedback to the Trieve API using the [rate search query route](/api-reference/analytics/rate-search) or [rate RAG query route](/api-reference/analytics/rate-rag).
<CodeGroup>
```json curl
curl -X POST https://api.trieve.ai/api/analytics/rate-search \
  -H "TR-Dataset: YOUR_DATASET_ID" \
  -H "Authorization: YOUR_API_KEY" \
    -d '{
        "query_id": "<query_id>",
        "rating": 5,
        "note": "Great results!"
    }'
```

```ts TS SDK
import { TrieveSDK } from "trieve-ts-sdk";

export const trieve = new TrieveSDK({
  apiKey: "tr-********************************",
  datasetId: "<your-api-key>",
});

const data = await trieve.rateSearchQuery({
    query_id: "<query_id>",
    rating: 5,
    note: "Great results!",
});
```
</CodeGroup>